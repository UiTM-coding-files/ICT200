CREATE DATABASE TranspotationM;
USE TranspotationM;

CREATE TABLE DRIVER(
    DRIVER_ID INT PRIMARY KEY,
    DRIVER_NAME VARCHAR(100),
    DRIVER_HP_NO VARCHAR(15) 
);

CREATE TABLE BUS(
    PLATE_NO VARCHAR(15) PRIMARY KEY,
    CAPACITY INT,
    STATUS VARCHAR(20)
);

CREATE TABLE ROUTE(
    ROUTE_ID INT PRIMARY KEY,
    START_POINT VARCHAR(100),
    END_POINT VARCHAR(100)
);

CREATE TABLE TRIP(
    TRIP_ID INT PRIMARY KEY,
    DRIVER_ID INT,
    PLATE_NO VARCHAR(15),
    ROUTE_ID INT,
    TRIP_DATE DATE,
    TRIP_TIME TIME,
    FOREIGN KEY (DRIVER_ID) REFERENCES DRIVER(DRIVER_ID),
    FOREIGN KEY (PLATE_NO) REFERENCES BUS(PLATE_NO),
    FOREIGN KEY (ROUTE_ID) REFERENCES ROUTE(ROUTE_ID)
);

CREATE TABLE STUDENT(
    STUD_ID INT PRIMARY KEY,
    STUD_NAME VARCHAR(100),
    STUD_STATUS VARCHAR(15)
);

CREATE TABLE STAFF(
    STAFF_ID INT PRIMARY KEY,
    STAFF_NAME VARCHAR(100),
    STAFF_DEPT VARCHAR(100)
);

CREATE TABLE BOOKINGSERVICE(
    BOOK_ID INT PRIMARY KEY,
    TRIP_ID INT,
    STUD_ID INT,
    STAFF_ID INT,
    BOOK_DATE DATE,
    PAY_STATUS VARCHAR(20),
    EVENT VARCHAR(100),
    FOREIGN KEY (TRIP_ID) REFERENCES TRIP(TRIP_ID),
    FOREIGN KEY (STUD_ID) REFERENCES STUDENT(STUD_ID),
    FOREIGN KEY (STAFF_ID) REFERENCES STAFF(STAFF_ID)
);

INSERT INTO DRIVER VALUES (123, 'John Doe', '0123456789');
INSERT INTO BUS VALUES ('ABC123', 50, 'Available');
INSERT INTO ROUTE VALUES (152, 'Campus', 'Downtown');
INSERT INTO TRIP VALUES (199, 123, 'ABC123', 152, '2024-07-01', '09:00:00');
INSERT INTO STUDENT VALUES (2024, 'Alice Smith', 'Active');
INSERT INTO STAFF VALUES (2023, 'Bob Johnson', 'Administration');
INSERT INTO BOOKINGSERVICE VALUES (187, 199, 2024, 2023, '2024-06-15', 'Hutang', 'Orientation Day');

SELECT * FROM DRIVER;
SELECT * FROM BUS;
SELECT * FROM ROUTE;
SELECT * FROM TRIP;
SELECT * FROM STUDENT;
SELECT * FROM STAFF;
SELECT * FROM BOOKINGSERVICE;
